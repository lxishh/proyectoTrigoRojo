{% extends 'administracion.html' %} {% load static %}

<!-- Contenido que se muestra al lado de la sidebar -->
{% block content %}

<h1 class="mt-4 mb-4">Usuarios</h1>

<a href="/crear_usuario" class="btn btn-success mb-4"> Agregar Usuario </a>

<div class="row">
  <div class="col-xl-12 col-md-12">
    <!-- Tarjeta que contendrá la tabla -->
    <div class="card mb-4">
      <div class="card-header">
        <i class="fas fa-table me-1"></i>
        Tabla de Usuarios
      </div>
      <div class="card-body">
        <!-- Tabla para mostrar los usuarios -->
        <table id="usuariosTable" class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre de Usuario</th>
              <th>Email</th>
              <th>Grupo</th>
              <th>Fecha de Creación</th>
              <th>Opciones</th>
            </tr>
          </thead>
          <tbody>
            {% for u in usuarios %}
            <tr>
              <td scope="row">{{ u.id }}</td>
              <td>{{ u.username }}</td>
              <td>{{ u.email }}</td>
              <td>
                {% for group in u.groups.all %}
                <span class="badge bg-info">{{ group.name }}</span>
                {% endfor %}
              </td>
              <td>{{ u.date_joined }}</td>
              <td>
                <a
                  href="/editar_usuario/{{ u.id }}"
                  class="btn btn-success btn-sm"
                >
                  <i class="bi bi-pencil"></i>
                </a>
                <a
                  href="/eliminar_usuario/{{ u.id }}"
                  class="btn btn-danger btn-sm"
                >
                  <i class="bi bi-trash"></i>
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock %}
